var Ask=function(){return{parsePage:function(){executeXPathQuery=function(){if(window.location.href.indexOf("http://jp.ask.com")!=-1){Utils.execTopBtmSponsQuery("//div[@class='ovbox']/a[not(@class)]/span[@class='l']","//div[@class='ovbox']/a[not(@class)]/span[last()]")}else{var e=document.getElementById("sponsoredRight");var g=document.getElementById("midRail");var f=document.getElementById("rr_sa");Utils.execTopBtmSponsQuery("//div[contains(@class,'adStd')]/div[not(@class)]/a","//div[contains(@class,'adStd')]//a[contains(@class,'domainLink')]/span");Utils.execTopBtmSponsQuery("//div[contains(@class,'adD')]/div[contains(@class,'adStd')]/a[contains(@class,'titleLink')]","//div[contains(@class,'adD')]//div[contains(@class,'adStd')]//a[contains(@class,'domainLink')]/span");if(null!=g){Utils.execTopBtmSponsQuery(".//*[@id='midRail']/div/div[contains(@class,'spl_shd') or contains(@class,'spl_unshd')]/div[contains(@class,'spl_ad')]/a[@class='nu']/span[@class='L4' or @class='newAdFont']",".//*[@id='rpane']/div[contains(@class,'spl_shd') or contains(@class,'spl_unshd')]/div[contains(@class,'spl_ad')]/a[@class='nu']/span[@class='T10']")}if(null!=e){Utils.execRightSponsQuery(".//*[@id='sponsoredRight']//div[contains(@class,'spl_shd') or contains(@class,'spl_unshd')]/div[contains(@class,'spl_ad')]/a[@class='nu']/span[@class='L4' or @class='newAdFont']",".//*[@id='sponsoredRight']//div[contains(@class,'spl_shd') or contains(@class,'spl_unshd')]/div[contains(@class,'spl_ad')]/a[@class='nu']/span[@class='T10']")}else{if(null!=f){Utils.execRightSponsQuery(".//*[@id='rr_sa']/div/div[contains(@class,'spl_shd') or contains(@class,'spl_unshd')]/div[contains(@class,'spl_ad')]/a[@class='nu']/span[@class='L4' or @class='newAdFont']",".//*[@id='rr_sa']/div/div[contains(@class,'spl_shd') or contains(@class,'spl_unshd')]/div[contains(@class,'spl_ad')]/a[@class='nu']/span[@class='T10']")}}}Utils.execSearchQuery("//li[contains(@class,'algo-result')]/div[not(@class)]/a[contains(@class,'algo-title annotate')]","normal")};if(typeof Utils!="undefined"){executeXPathQuery();var c=new Array();var d;c=Utils.getSearchText();for(var b=0;b<c.length;b++){d=Utils.getFormatLink(unescape(c[b]));var a=Shasta.addURL(encodeURI(d),true)}}return true},createAnnotation:function(){addAnnotation=function(h,l){var k=h.parentNode;var g=h.nextSibling;var j=false;var i=document.createElement("a");i.setAttribute("onclick","return false");if(f!=-1){l.style.zIndex="0"}else{i.style.position="relative"}i.appendChild(l);if(!g){j=true}if(j){k.appendChild(document.createTextNode(" "));k.appendChild(i)}else{k.insertBefore(document.createTextNode(" "),g);k.insertBefore(i,g)}};if(typeof Utils!="undefined"){var f=navigator.userAgent.indexOf("Firefox");var a=new Array();a=Utils.getSearchNodes();for(var b=0;b<a.length;b++){var e=a[b];e=e.parentNode.lastChild;var d=Utils.createNsgImage(b);var c=0;if(d){c=1;addAnnotation(e,d)}if(Shasta.getLinkBitmap(b)){a[b].onclick=Utils.sendTelemetry(a[b].onclick,Shasta.getLinkActualIndex(b),c,0,Shasta.getLinkMID(b),Shasta.getLinkBitmap(b))}}}return true}}}();function sb_collectURLs(h,m,b,l){if(!l){if(typeof Shasta!="undefined"){return Shasta.collectURLs(h,m,b)}}else{var f=document.createElement("MyExtensionDataElement");f.setAttribute("CollectURL",1);f.setAttribute("frameid",h);f.setAttribute("siteid",m);f.setAttribute("rescan",b);document.documentElement.appendChild(f);var k=document.createEvent("Events");k.initEvent("SBCollectURLEvent",true,false);f.dispatchEvent(k);var j=0;var c=new Date();var d=c.getTime();while(1){var n=f.getAttribute("result");j++;if(n&&n!==""){var e=n.split(",");f.setAttribute("result","");return e}var g=new Date();var a=g.getTime();var i=a-d;if(i>1000){return}}}}function SBCollectURLEventCallback(b,c,a){if(typeof Shasta!="undefined"){return Shasta.collectURLs(b,c,a)}}function sb_setResults(a){if(typeof Shasta!="undefined"){return Shasta.setResults(a)}}function sb_getPageDirection(){if(typeof Shasta!="undefined"){return Shasta.getPageDirection()}};